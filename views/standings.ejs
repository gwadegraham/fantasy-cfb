<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="styles.css" rel="stylesheet">
    <link href="standings.css" rel="stylesheet">
    <link href="loading.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">    
    <script src="standings.js" type="module"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Graduate&family=Pacifico&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <script type="module" src="weekByWeek.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <title>Campus Clash</title>
    <link rel="shortcut icon" type="image/png" href="images/favicon.png" />
</head>

<body>
    <%- include('partials/navbar') %>
    <% if (userState) { %>
        <script>
            var userState = JSON.parse('<%- userState %>');
        </script>
    <% } %>

    <div class="header">
        <div class="header-title">
            Standings
        </div>
        <div class="last-updated-container">
            <p last-updated class="last-updated"></p>
        </div>
    </div>
    <div class="no-data-message" style="display: none;">
        <div class="emoji hourglass">‚è≥</div>
        <h2 class="message-title">Almost Game Time</h2>
        <p class="message-text">
            We‚Äôre counting down the days until kickoff. Stay tuned ‚Äî the action starts soon!
        </p>
    </div>
    <div class="get-users-container" style="width: 100%;" get-users-container>
        <div class="table-wrapper">
            <table class="fl-table">
                <thead>
                    <tr>
                        <th class="sticky-header team-header"></th>
                        <th class="sticky-header team-header"></th>
                        <th class="team-header" style="text-align: center;">Teams</th>
                        <th class="sticky-header-score team-header">Score</th>
                    </tr>
                </thead>
                <tbody user-table-body>
                </tbody>
            </table>
        </div>
    </div>
    <hr class="hr-subtle">
    <h2 class="highlights-header">üåü League Highlights</h2>
    <div class="highlights-container">
        <!-- üî• Hot Streak -->
        <div class="sub-highlight-container">
            <div class="highlight-title">
                <p>üî• Hot Streak</p>
            </div>
            <div class="highlight-info">
                <span hot-team></span>
                <span hot-team-score style="color: #22C37A;"></span>
            </div>
        </div>
        <!-- üèÜ Biggest Winner -->
        <div class="sub-highlight-container">
            <div class="highlight-title">üèÜ Big Winner</div>
            <div class="highlight-info">
            <span biggest-winner></span><br>
            <span biggest-winner-score style="color: #22C37A;"></span> 
            <span winner-week style="color: #22C37A;"></span>
            </div>
        </div>

        <div class="sub-highlight-container">
            <div class="highlight-title">üò¢ Big Losers</div>
            <div class="highlight-info">
            <span biggest-loser></span>
            <span biggest-loser-score style="color: #ed5858;"></span> 
            <span loser-week style="color: #ed5858;"></span>
            </div>
        </div>
        <!-- ü•á Best Teams -->
        <div class="sub-highlight-container">
            <div class="highlight-title">ü•á Best Teams</div>
            <div class="highlight-info">
            <span best-team></span>
            <span best-team-score style="color: #22C37A;"></span> 
            <span best-week style="color: #22C37A;"></span>
            </div>
        </div>
    </div>
    <hr class="hr-subtle">
    <div class="header">
        <div class="header-title" poll-name>
            Head to Head
        </div>
    </div>
    <div class="dropdown dropdownWeek">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButtonWeek" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Week 1
        </button>
        <div class="dropdown-menu dropdown-menu-week" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item dropdown-week selected" value="week-1">Week 1</a>
            <a class="dropdown-item dropdown-week" value="week-2">Week 2</a>
            <a class="dropdown-item dropdown-week" value="week-3">Week 3</a>
            <a class="dropdown-item dropdown-week" value="week-4">Week 4</a>
            <a class="dropdown-item dropdown-week" value="week-5">Week 5</a>
            <a class="dropdown-item dropdown-week" value="week-6">Week 6</a>
            <a class="dropdown-item dropdown-week" value="week-7">Week 7</a>
            <a class="dropdown-item dropdown-week" value="week-8">Week 8</a>
            <a class="dropdown-item dropdown-week" value="week-9">Week 9</a>
            <a class="dropdown-item dropdown-week" value="week-10">Week 10</a>
            <a class="dropdown-item dropdown-week" value="week-11">Week 11</a>
            <a class="dropdown-item dropdown-week" value="week-12">Week 12</a>
            <a class="dropdown-item dropdown-week" value="week-13">Week 13</a>
            <a class="dropdown-item dropdown-week" value="week-14">Week 14</a>
            <a class="dropdown-item dropdown-week" value="week-15">Week 15</a>
            <a class="dropdown-item dropdown-week" value="week-16">Week 16</a>
            <a class="dropdown-item dropdown-week" value="week-17">Postseason</a>
        </div>
    </div>
    <div class="game-content">
        <div class="football-loader">
            <div class="football-icon">üèà</div>
            <p class="loading-text">Scouting for games...</p>
        </div>
        <div class="get-users-container">
            <div class="schedule-wrapper" schedule-container>
                <table class="schedule-table">
                    <tbody schedule-body>
                        <div id="no-games-container"></div>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="chart-container" chart-container style="display: none;">
        <div class="header">
            <div class="header-title" poll-name>
                Path to the Championship
            </div>
        </div>
        <div class="content">
            <div class="get-users-container" get-users-container>
                <div class="table-wrapper">
                    <div style="width: 1000px; padding-left: 40px;"><canvas id="week-by-week"></canvas></div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <a href="https://collegefootballdata.com/" class="cfb-data">Powered by College Football Data</a>
    </footer>
    <% if (user && user.isMaintenance) { %>
    <div class="maintenance-container">
        <div class="maintenance-icon">
            <i class="fas fa-hard-hat"></i>
        </div>
        <div class="maintenance-title">We're Under Maintenance</div>
        <div class="maintenance-message">
            We're currently making upgrades behind the scenes.<br>
            We'll be back online shortly‚Äîstay tuned!
        </div>
        <div class="footer-note">Thanks for your patience</div>
  </div>
  <% } %>
</body>
</html>